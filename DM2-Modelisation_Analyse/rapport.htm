<!DOCTYPE html>

<html>
<head>
    <title>IFT3911 DM2 - Hiv24</title>
    <style type="text/css">
        h4
        {
            text-decoration: underline;
            text-decoration-thickness: .05rem;
        }
        table
        {
            border: outset 2px black;
            border-collapse: collapse;
        }
        th
        {
            padding-inline: 5px;
            border-bottom: double 2px black;
        }
        td
        {
            padding-inline: 5px;
            border-bottom: solid 1px black;
        }
        .first_col
        {
            border-right: double 2px black;
        }
        .todo
        {
            color: red;
        }
        .extension dt
        {
            margin-left: 25px;
        }
        ul.no-marker
        {
            list-style-type: none;
        }
        dl.extension > ol
        {
            margin-left: 25px;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">
        IFT 3911 - Devoir 2</h1>

    <h2>
        Information générale</h2>

    <p>
        <span style="font-weight: bold;">Nom: </span>Killian Gervais
        <br />
        <span style="font-weight: bold;">Matricule: </span>1841 
        <br />
        <span style="font-weight: bold;">Courriel: </span>killian.gervais@umontreal.ca
        <br />
        
    </p>

    <p>
        <span style="font-weight: bold;">Nom: </span>Roman Gilles-Lesage
        <br />
        <span style="font-weight: bold;">Matricule: </span>5122
        <br />
        <span style="font-weight: bold;">Courriel: </span>roman.gilles-lesage@umontreal.ca
        <br />
        
    </p>

    <p>
        <span style="font-weight: bold;">Nom: </span>Tobias Lepoutre
        <br />
        <span style="font-weight: bold;">Matricule: </span>7637
        <br />
        <span style="font-weight: bold;">Courriel: </span>tobias.lepoutre@umontreal.ca
        <br />
       
    </p>

    <h2>
        Distribution des tâches</h2>

    <p>
        <span class="todo" style="font-weight: bold;">Soumetteur: </span>
    </p>

    <table class="todo" scellpadding="7px">
        <thead>
            <tr>
                <th class="first_col">
                    Tâche
                </th>
                <th>
                    Killian
                </th>
                <th>
                    Roman
                </th>
                <th>
                    Tobias
                </th>
            </tr>
        </thead>

        <tbody>
            

            <tr>
                <td class="first_col">
                    Réseau Pétri
                </td>
                <td>
                    0%
                </td>
                <td>
                    0%
                </td>
                <td>
                    100%
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    Statechart
                </td>
                <td>
                    0%
                </td>
                <td>
                    100%
                </td>
                <td>
                    0%
                </td>
            </tr>

            <tr>
                <td class="first_col">
                    Révision design
                </td>
                <td>
                    100%
                </td>
                <td>
                    0%
                </td>
                <td>
                    0%
                </td>
            </tr>

            <tr>
                <td class="first_col">
                    Analyse design
                </td>
                <td>
                    %
                </td>
                <td>
                    %
                </td>
                <td>
                    %
                </td>
            </tr>
            
        </tbody>
    </table>

    <h2>Hypothèses</h2>
    <div>
        <h2>Tâche 1 - Réseau de Pétri</h2>
                <p>
            Modélisation du réseau de Pétri réalisé avec PIPE(v4.3.0) :
        </p>
        <img src="Reseau_Petri.png" alt="Réseau de Pétri: Tunnel" width="800">
        </b>
        <p>
            Analyse du réseau de Pétri :
        </p>
        <pre>
On remarque que les places P3(tunnel1) et P6(tunnel2), représentant dont les voitures des voies 1 et 2,
suivent la loi de conservation M(P3(tunnel1)) + M(P6(tunnel2)) = K, où K est inférieure ou égale à 1.
En effet, à l'état initial, on a K=0, puis le modèle suit la séquence de franchissement déterminée <T1,T2,T3,T4>
de façon cyclique tels que:
- T1 ajoute un jeton à P3: K=1
- T2 retire un jeton de P3: K=0
- T3 ajoute un jeton à P6: K=1
- T4 retire un jeton à P6: K=0 (et ainsi de suite...)
Donc on en déduit que seule une voiture peut être à l'intérieur du tunnel à la fois.
        </pre>
        <p>Le système semble équitable. On vérifie cela en dressant le graphe de couverture :</p>
        <img src="Graphe_couverture.png" alt="Réseau de Pétri: Tunnel" width="500">
        <pre>
Effectivement, le système est équitable puisque ce graphe de couverture confirme le fait qu'il y a une alternance
effectuée entre chaque coté du tunnel ne laissant passer qu'une voiture à chaque fois. De plus, cela est toujours vrai 
aussi longtemps que le tunnel respecte ce système cyclique déterminé.

Ainsi, puisque ce réseau ne rencontre jamais de blocage et qu'il peut activer ses transitions indéfiniment,
on en déduit qu'il n'y a pas de famine dans le réseau.
        </pre>
    </div>

    <div>
        <h2>Tâche 2 - Statechart</h2>
        <p>Interprétations de la consigne:</p>
        <ul>
            <li>On considère qu'il faut d'abord ouvrir la porte du micro-onde puis la fermer avant de commencer quelconque manipulation</li>
            <li>On considère que si l'utilisateur se trompe d'input dans la séquence (température ou bien 
                minuterie) il doit appuyer sur stop pour recommencer l'entièreté de la séquence.
                Il n'y a pas de retour en arrière possible si par exemple on voudrait changer la température après avoir rentré le temps.
            </li>
        </ul>
        <img src="statechart.png" alt="statechart" width="500">
    </div>

    <div>
        <h2>Tâche 3 - Révision du design</h2>

        <div>
            <h3>Hypothèses</h3>
            <ul>
                <li>Client possède au moins une carte de crédit</li>
                <li></li>
                <li></li>
            </ul>

            <h3>Diagramme de classe</h3>
            <figure>
                
                <img src="" alt="Diagramme de classe révisé">
                <figcaption >Diagramme de classe révisé</figcaption>
            </figure>
            <p>Voici les changements qui ont été apportés au diagramme de classe du DM1 suite au retour
                issue de la correction de celui-ci ainsi qu'aux connaissances additionnelles acquise lors
                des cours.
            </p>
            <ul class="no-marker">
                <li>
                    <h4>DescriptionTrajet et Trajet</h4>
                    <p>Entre le diagramme de classe conceptuel et le diagramme nous avions décidé de
                        déplacer la totalité des attributs de <b>Trajet</b> dans <b>DescriptionTrajet</b>.
                        Dans la correction on indique que puisque <b>Trajet</b> ne contient plus
                        d'informations pertinentes celle-ci devrait disparaitre. Puisque nous considérons
                        que ces deux classes sont essentielles, <b>Trajet</b> correspond à la réalisation
                        de la description à une date précise avec un <b>Vehicule</b> précis, nous somme
                        revenu a un design plus proche de celui-ci que nous avions fait dans le diagramme
                        de classe conceptuel.
                    </p>
                    <p>
                        Les attributs <b>idTrajet</b> et <b>prixBase</b> ont été ajouté à <b>Trajet</b>
                        car oubliés.
                    </p>
                </li>
                <li>
                    <h4>Emplacement et Section</h4>
                    <p>
                        Suppression de l'attribut <b>prix</b> dans <b>Emplacement</b>, car déjà présent
                        dans <b>Section</b>. Type de <b>attitreA</b> passe de <b>Client</b> à 
                        <b>Reservation</b>, plus logique pour quand vérifier quand place redevient
                        disponible si elle est reservee.
                    </p>
                    <p>
                        L'enumeration <b>DispositionSieges</b> vient remplacer l'heritage issu de
                        <b>Siege</b>. Deux nouvelles classes ont été créées pour différencier les types
                        sections de sections: <b>SectionSiege</b> et <b>SectionCabine</b>. Elles ont les
                        generalisation correspondantes. <b>SelectionSiege</b> a pour atributs: 
                        <b>dispositionSiege:DispositionSiege</b>, <b>MAX_COL</b> et <b>MAX_RANG</b> car
                        ceux ils decrivent cette classe et non <b>Siege</b>.
                    </p>
                </li>
                <li>
                    <h4>GUI et Admin</h4>
                    <p>
                        L'interface <b>GUI</b> ainsi que ses realisations <b>ClientGUI</b> et
                        <b>AdminGUI</b> ont ete ajoutees car manquantes.<br>
                        De meme pour la classe <b>Admin.</b>
                    </p>
                </li>
                <li>
                    <h4>Suppression de classe peu utiles</h4>
                    <p>
                        On supprime les classes enfants de <b>Catalogue</b> car pas très utiles.
                        La classe <b>ConfirmationPaiement</b> a été supprimée afin de réduire la redondance
                        comme conseillé.<b>numConf</b> devient un attribut de <b>PaiementCredit</b>.
                    </p>
                </li>
                <li>
                    <h4>Suppression et deplacement de methodes</h4>
                    <p>
                        Une partie des methodes a ete supprimée car elle se trouvaient etre des
                        setter/getter qui avaient juste un autre nom et qui, pour certaines, se trouvaient
                        dans une classe qui n'etait pas la bonne.
                    </p>
                </li>
                <li>pas de lien entre AdminController - Trajet car dernier peut etre retrouver via DescriptionTrajet</li>
                <li>ajout de controleurs; certaines classes (Client, Reservation,...) agissaient comme controleur en plus d'etre une represenation d'un objet</li>                
            </ul>
        </div>

        <div>
            <h3>Diagrammes de séquence ou de collaboration</h3>
        </div>

        <div>
            <h3>Diagramme de paquets</h3>
        </div>

        <div>
            <h3>Contraintes OCL</h3>
                        <p>Ajout des 2 contraintes manquantes:</p>
            <p>
                La partie alphabétique de l'ID d'un vol est unique à chaque compagnie et la partie numérique 
                est unique à chaque vol au sein de la même compagnie:
                <pre>
                    <code>
                        context Vol
                        inv UniqueIDParCompagnie: Vol.allInstances()->forAll(v1, v2 | 
                            v1 <> v2 implies 
                            (v1.compagnie = v2.compagnie implies 
                                (v1.id.substring(1, v1.id.indexOf('-')) <> v2.id.substring(1, v2.id.indexOf('-')) or 
                                 v1.id.substring(v1.id.indexOf('-') + 1) <> v2.id.substring(v2.id.indexOf('-') + 1))))
                    </code>
                </pre>
                Toutes les cabines d'une même section ont le même prix:
                <pre>
                    <code>
                        context Section
                        inv EmplacementsMemePrix: self.listeEmplacement->forAll(e1, e2 | e1.prix = e2.prix)                    
                    </code>
                </pre>
            </p>
            <p>Modification des contraintes à corriger:</p>
            <p>
                Une installation est identifié par trois lettres uniques à chaque installation:
                <pre>
                    <code>
                        context Installation inv:
                        Installation.allInstances()->forAll(c1, c2 |
                            (c1 <> c2 and c1.oclIsKindOf(c2.OclType())) implies c1.code <> c2.code)                    
                    </code>
                </pre>
                Un paquebot peut être assigné à plusieurs itinéraires tant qu'ils ne se chevauchent pas: 
                <pre>
                    <code>
                        context Croisiere inv:
                        Croisiere.allInstances()->forAll(c1, c2 | 
                            c1 <> c2 and c1.Assigne-a = c2.Assigne-A implies
                                (c1.dateArrivee <= c2.dateDepart or c1.dateDepart >= c2.dateArrivee))                                      
                    </code>
                </pre>
                Le client peut réserver un emplacement disponible dans un trajet donnée:
                <pre>
                    <code>
                        context Reservation
                        def: reserverEmplacement(t:Trajet, e:Emplacement) : Boolean =
                            if e.disponible and t.emplacements->includes(e)
                            then 
                                e.disponible := false
                                self.emplacement := e
                                true
                            else 
                                false
                            endif
                    </code>
                </pre>
            </p>
        </div>

        <div>
            <h3>Modules réutilisables</h3>
            <ul>
                <li>Abstraites: Compagnie, DescriptionTrajet, Installation, Trajet, Vehicule, Section, SectionCabine, SectionSiege, Emplacement</li>
                <li>Catalogue cree DescriptionTrajet et Trajet</li>
                <li></li>
                <li></li>
            </ul>
        </div>
    </div>
    
    <div>
        <h2>Tâche 4 - Analyse de la qualité du design</h2>
    </div>
</body>
</html>
